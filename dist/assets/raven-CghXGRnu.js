import{p as m}from"./app-D7MfDG2y.js";/* empty css             */const O=o=>{let h=[],c=0,d,y=0,u=0,g=0,w=0,f=0,l=0;const v=(e,a,n)=>{const t=n==="shadow"?o.color(15,15,25):n==="ember"?o.color(180,80,40,200):n==="raven"?o.color(30,30,35):n==="echo"?o.color(100,100,120,150):o.color(80,40,120);return{position:o.createVector(e,a),velocity:o.createVector(0,0),acceleration:o.createVector(0,0),color:t,size:n==="raven"?8:n==="echo"?o.random(3,6):o.random(2,4),maxSpeed:n==="raven"?1.5:n==="echo"?2.5:o.random(1,2.5),originalPosition:o.createVector(e,a),connectionRadius:o.random(40,80),type:n,opacity:0,targetOpacity:n==="echo"?o.random(.4,.6):n==="shadow"?o.random(.2,.4):o.random(.3,.7),phase:o.random(o.TWO_PI),life:0,maxLife:n==="echo"?o.random(100,200):1/0}},x=(e,a)=>{const n=o.random(5,10);for(let t=0;t<n;t++){const s=o.random(o.TWO_PI),i=o.random(20,50),r=e+o.cos(s)*i,b=a+o.sin(s)*i;h.push(v(r,b,"echo"))}};o.setup=()=>{const e=document.getElementById("sketch-container");if(!e){console.error("Sketch container not found");return}o.createCanvas(e.clientWidth,e.clientHeight).parent("sketch-container"),o.background(0);const n=400;d=o.createVector(o.width*.7,o.height*.4);for(let t=0;t<n;t++){const s=t<n*.35?"shadow":t<n*.65?"ember":t<n*.9?"curtain":"raven";let i,r;s==="shadow"?(i=o.random(o.width*.5,o.width*.9),r=o.random(o.height*.2,o.height*.8)):s==="ember"?(i=o.random(o.width*.1,o.width*.3),r=o.random(o.height*.6,o.height*.9)):s==="curtain"?(i=o.random(o.width*.1,o.width*.2),r=o.random(0,o.height)):(i=d.x+o.random(-15,15),r=d.y+o.random(-15,15)),h.push(v(i,r,s))}},o.draw=()=>{c+=.01,o.background(0,0,0,0),y=o.lerp(y,1,.008),u=o.lerp(u,1,.003),g=o.sin(c*1.5)*.5+.5,w=o.sin(c*.8)*.5+.5,f+=1,f-l>180&&(x(d.x,d.y),l=f),h=h.filter(e=>{if(e.type==="echo"&&(e.life+=1,e.life>e.maxLife))return!1;if(e.type==="shadow"){const n=o.noise(e.position.x*.005,e.position.y*.005,c*.5)*o.TWO_PI;e.acceleration.x=o.cos(n)*.03,e.acceleration.y=o.sin(n)*.03,e.opacity=o.lerp(e.opacity,e.targetOpacity*.4,.015)}else if(e.type==="ember")e.acceleration.y=-.25,e.acceleration.x=o.sin(c+e.phase)*.12,e.opacity=o.lerp(e.opacity,e.targetOpacity*g*.8,.06);else if(e.type==="curtain")e.acceleration.x=o.sin(c*1.5+e.phase)*.12,e.acceleration.y=o.cos(c*.8+e.phase)*.06,e.opacity=o.lerp(e.opacity,e.targetOpacity*w*.9,.02);else if(e.type==="raven"){const n=m.Vector.sub(d,e.position);n.mag()>5&&(n.normalize(),e.acceleration.add(n.mult(.12))),e.opacity=o.lerp(e.opacity,e.targetOpacity*u,.015)}else if(e.type==="echo"){const n=1-e.life/e.maxLife;e.opacity=e.targetOpacity*n,e.acceleration.y-=.02,e.acceleration.x+=o.sin(c*2+e.phase)*.05}if(o.mouseX>0&&o.mouseY>0){const n=o.createVector(o.mouseX,o.mouseY),t=m.Vector.sub(e.position,n),s=t.mag();if(s<100){const i=o.map(s,0,100,.4,0);t.normalize(),t.mult(i),e.acceleration.add(t)}}e.velocity.add(e.acceleration),e.velocity.mult(.985),e.velocity.limit(e.maxSpeed),e.position.add(e.velocity),e.acceleration.mult(0),o.noStroke();const a=e.opacity*255*(e.type==="shadow"?.8:e.type==="echo"?.9:1);return o.fill(o.red(e.color),o.green(e.color),o.blue(e.color),a),(e.type==="ember"||e.type==="echo")&&(o.drawingContext.shadowBlur=5,o.drawingContext.shadowColor=o.color(o.red(e.color),o.green(e.color),o.blue(e.color),a*.5)),o.ellipse(e.position.x,e.position.y,e.size*y),o.drawingContext.shadowBlur=0,e.type==="shadow"&&h.forEach(n=>{if(n.type==="shadow"&&n!==e){const t=m.Vector.dist(e.position,n.position);if(t<e.connectionRadius){const s=(1-t/e.connectionRadius)*25*e.opacity;o.stroke(20,20,30,s),o.line(e.position.x,e.position.y,n.position.x,n.position.y)}}}),!0})},o.windowResized=()=>{const e=document.getElementById("sketch-container");e&&(o.resizeCanvas(e.clientWidth,e.clientHeight),d=o.createVector(o.width*.7,o.height*.4),h=[],o.setup())}};new m(O);
//# sourceMappingURL=raven-CghXGRnu.js.map
