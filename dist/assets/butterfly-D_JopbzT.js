import{p as f}from"./app-D7MfDG2y.js";/* empty css             */const y=n=>{let a=[],l=0,h=0;const m={wing:[255,255,255,200],trail:[200,230,255,150],sparkle:[255,255,200,180]},d=(o,c,s)=>({position:n.createVector(o,c),velocity:n.createVector(0,0),acceleration:n.createVector(0,0),color:m[s],size:s==="wing"?8:s==="sparkle"?4:5,maxSpeed:s==="wing"?2.5:s==="sparkle"?2:1.5,originalPosition:n.createVector(o,c),connectionRadius:s==="wing"?120:s==="sparkle"?80:60,type:s,phase:n.random(n.TWO_PI),life:0,maxLife:s==="sparkle"?150:1/0,opacity:0,targetOpacity:s==="wing"?1:s==="sparkle"?.8:.6,wingAngle:0,wingSpeed:n.random(.02,.05)}),w=(o,c)=>{for(let e=0;e<10;e++){const r=e/10*n.TWO_PI,i=40,g=o+n.cos(r)*i,u=c+n.sin(r)*i;a.push(d(g,u,"wing"))}const t=15;for(let e=0;e<t;e++){const r=n.random(n.TWO_PI),i=n.random(60,90),g=o+n.cos(r)*i,u=c+n.sin(r)*i;a.push(d(g,u,"trail"))}},k=(o,c)=>{for(let t=0;t<7;t++){const e=n.random(n.TWO_PI),r=n.random(40,80),i=o+n.cos(e)*r,g=c+n.sin(e)*r;a.push(d(i,g,"sparkle"))}};n.setup=()=>{const o=document.getElementById("sketch-container");if(!o){console.error("Sketch container not found");return}n.createCanvas(o.clientWidth,o.clientHeight).parent("sketch-container"),n.background(0),n.colorMode(n.RGB,255,255,255,255),w(n.width*.5,n.height*.5),console.log("Welcome to 'Butterfly' - A visualization of Bashō's haiku"),console.log("Controls:"),console.log("- Move mouse to interact with the butterfly"),console.log("- Press 'p' to pause/resume"),console.log("- Press 'r' to reset")},n.draw=()=>{n.background(0,0,0),l+=.01,h=(h+.01)%n.TWO_PI,n.noStroke();for(let o=0;o<n.height;o+=2){const c=n.map(o,0,n.height,40,10);n.fill(0,0,20,c),n.rect(0,o,n.width,2)}a=a.filter(o=>{if(o.type==="sparkle"&&(o.life+=1,o.life>o.maxLife))return!1;if(o.type==="wing"){o.wingAngle+=o.wingSpeed;const t=n.sin(o.wingAngle)*30;o.position.x=o.originalPosition.x+t,o.position.y=o.originalPosition.y+n.cos(o.wingAngle)*10}if(o.type==="trail"){const t=f.Vector.sub(o.originalPosition,o.position);t.mult(.01),o.acceleration.add(t)}const c=n.createVector(n.sin(l+o.phase)*.3,n.cos(l+o.phase)*.3);if(o.acceleration.add(c),n.mouseX>0&&n.mouseY>0){const t=o.position.x-n.mouseX,e=o.position.y-n.mouseY,r=Math.sqrt(t*t+e*e);if(r<200){const i=(1-r/200)*.15;o.acceleration.add(t*i,e*i)}}o.velocity.add(o.acceleration),o.velocity.mult(.98),o.velocity.limit(o.maxSpeed),o.position.add(o.velocity),o.acceleration.mult(0),o.opacity=n.lerp(o.opacity,o.targetOpacity,.05),n.noStroke();const s=o.opacity*255;return n.fill(o.color[0],o.color[1],o.color[2],s),o.type==="sparkle"&&(n.drawingContext.shadowBlur=15,n.drawingContext.shadowColor=n.color(o.color[0],o.color[1],o.color[2],s*.5)),n.ellipse(o.position.x,o.position.y,o.size),n.drawingContext.shadowBlur=0,a.forEach(t=>{if(t!==o){const e=f.Vector.dist(o.position,t.position);if(e<o.connectionRadius){const i=(1-e/o.connectionRadius)*120*o.opacity;o.type==="wing"&&t.type==="wing"?(n.stroke(o.color[0],o.color[1],o.color[2],i*.8),n.strokeWeight(2)):o.type==="trail"||t.type==="trail"?(n.stroke(o.color[0],o.color[1],o.color[2],i*.4),n.strokeWeight(1.5)):(n.stroke(o.color[0],o.color[1],o.color[2],i*.6),n.strokeWeight(1.5)),n.line(o.position.x,o.position.y,t.position.x,t.position.y)}}}),o.type==="wing"&&n.random()<.015&&k(o.position.x,o.position.y),!0})},n.windowResized=()=>{const o=document.getElementById("sketch-container");o&&(n.resizeCanvas(o.clientWidth,o.clientHeight),a=[],w(n.width*.5,n.height*.5))}};new f(y);
//# sourceMappingURL=butterfly-D_JopbzT.js.map
