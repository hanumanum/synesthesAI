{"version":3,"file":"sail-DxH84VO0.js","sources":["../../src/sketches/sail.ts"],"sourcesContent":["import p5 from 'p5';\n\ninterface Sail {\n  position: p5.Vector;\n  velocity: p5.Vector;\n  angle: number;\n  size: number;\n  color: p5.Color;\n  phase: number;\n}\n\ninterface Wave {\n  points: p5.Vector[];\n  phase: number;\n  amplitude: number;\n  frequency: number;\n  color: p5.Color;\n}\n\ninterface Light {\n  position: p5.Vector;\n  size: number;\n  brightness: number;\n  phase: number;\n}\n\nconst sketch = (p: p5) => {\n  let sail: Sail;\n  let waves: Wave[] = [];\n  let lights: Light[] = [];\n  let stormPhase = 0;\n  let time = 0;\n  \n  const createSail = () => ({\n    position: p.createVector(p.width * 0.5, p.height * 0.4),\n    velocity: p.createVector(0, 0),\n    angle: 0,\n    size: Math.min(p.width, p.height) * 0.15,\n    color: p.color(255, 255, 255, 200),\n    phase: p.random(p.TWO_PI)\n  });\n\n  const createWave = (y: number, phase: number) => ({\n    points: Array.from({ length: 50 }, (_, i) => \n      p.createVector(i * (p.width / 49), y)\n    ),\n    phase,\n    amplitude: p.random(20, 40),\n    frequency: p.random(0.02, 0.04),\n    color: p.color(0, 100, 200, 150)\n  });\n\n  const createLight = () => ({\n    position: p.createVector(\n      p.random(p.width * 0.2, p.width * 0.8),\n      p.random(p.height * 0.2, p.height * 0.6)\n    ),\n    size: p.random(20, 40),\n    brightness: p.random(0.5, 1),\n    phase: p.random(p.TWO_PI)\n  });\n\n  p.setup = () => {\n    const container = document.getElementById('sketch-container');\n    if (!container) {\n      console.error('Sketch container not found');\n      return;\n    }\n\n    const canvas = p.createCanvas(container.clientWidth, container.clientHeight);\n    canvas.parent('sketch-container');\n    p.background(0);\n    \n    // Initialize elements\n    sail = createSail();\n    waves = Array.from({ length: 5 }, (_, i) => \n      createWave(p.height * (0.5 + i * 0.1), i * p.TWO_PI / 5)\n    );\n    lights = Array.from({ length: 3 }, createLight);\n  };\n\n  p.draw = () => {\n    time += 0.01;\n    stormPhase = (stormPhase + 0.003) % p.TWO_PI;\n    const stormIntensity = p.sin(stormPhase) * 0.5 + 0.5;\n    p.background(0, 0, 0, 0);\n\n    // Update and draw waves\n    waves.forEach((wave) => {\n      wave.points.forEach((point, j) => {\n        point.y = wave.points[0].y + \n          p.sin(time * wave.frequency + j * 0.1 + wave.phase) * \n          wave.amplitude * (1 + stormIntensity * 0.5);\n      });\n\n      // Draw wave\n      p.noFill();\n      p.stroke(wave.color);\n      p.strokeWeight(2);\n      p.beginShape();\n      wave.points.forEach(point => p.vertex(point.x, point.y));\n      p.endShape();\n    });\n\n    // Update and draw lights\n    lights.forEach(light => {\n      light.phase += 0.02;\n      const brightness = light.brightness * (0.5 + p.sin(light.phase) * 0.5);\n      \n      p.noStroke();\n      p.fill(255, 215, 0, brightness * 100);\n      p.drawingContext.shadowBlur = 20;\n      p.drawingContext.shadowColor = p.color(255, 215, 0, brightness * 50);\n      p.ellipse(light.position.x, light.position.y, light.size);\n      p.drawingContext.shadowBlur = 0;\n    });\n\n    // Update sail\n    const windForce = p.createVector(\n      p.cos(time * 0.5) * 0.2,\n      p.sin(time * 0.3) * 0.1\n    );\n    sail.velocity.add(windForce);\n    sail.velocity.mult(0.98);\n    sail.position.add(sail.velocity);\n    sail.angle = p.atan2(sail.velocity.y, sail.velocity.x);\n\n    // Apply mouse force\n    if (p.mouseX > 0 && p.mouseY > 0) {\n      const mousePos = p.createVector(p.mouseX, p.mouseY);\n      const force = p5.Vector.sub(sail.position, mousePos);\n      const distance = force.mag();\n      if (distance < 200) {\n        const strength = p.map(distance, 0, 200, 0.3, 0);\n        force.normalize();\n        force.mult(strength);\n        sail.velocity.add(force);\n      }\n    }\n\n    // Keep sail within bounds\n    sail.position.x = p.constrain(sail.position.x, sail.size, p.width - sail.size);\n    sail.position.y = p.constrain(sail.position.y, sail.size, p.height - sail.size);\n\n    // Draw sail\n    p.push();\n    p.translate(sail.position.x, sail.position.y);\n    p.rotate(sail.angle);\n    \n    p.noStroke();\n    p.fill(sail.color);\n    p.drawingContext.shadowBlur = 15;\n    p.drawingContext.shadowColor = p.color(255, 255, 255, 100);\n    \n    // Draw sail shape\n    p.beginShape();\n    p.vertex(-sail.size, 0);\n    p.vertex(sail.size, -sail.size * 0.5);\n    p.vertex(sail.size, sail.size * 0.5);\n    p.endShape(p.CLOSE);\n    \n    p.drawingContext.shadowBlur = 0;\n    p.pop();\n\n    // Draw storm effects during intense phases\n    if (stormIntensity > 0.7) {\n      p.stroke(100, 100, 120, stormIntensity * 100);\n      p.strokeWeight(1);\n      for (let i = 0; i < 20; i++) {\n        const x = p.random(p.width);\n        const y = p.random(p.height);\n        const length = p.random(20, 50);\n        const angle = p.random(p.TWO_PI);\n        p.line(x, y, x + p.cos(angle) * length, y + p.sin(angle) * length);\n      }\n    }\n  };\n\n  p.windowResized = () => {\n    const container = document.getElementById('sketch-container');\n    if (!container) return;\n\n    p.resizeCanvas(container.clientWidth, container.clientHeight);\n    p.setup();\n  };\n};\n\nnew p5(sketch); "],"names":["sketch","p","sail","waves","lights","stormPhase","time","createSail","createWave","y","phase","_","i","createLight","container","stormIntensity","wave","point","j","light","brightness","windForce","mousePos","force","p5","distance","strength","x","length","angle"],"mappings":"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"}