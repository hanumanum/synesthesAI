import{p as I}from"./app-D7MfDG2y.js";/* empty css             */const K=t=>{let g=[],S=0,u=!1,k=0,P=0;const X=5,y=100,Y={core:10,shield:20,flow:15,wisdom:15,balance:20},V={core:[255,255,255,200],shield:[0,150,255,180],flow:[255,100,0,180],wisdom:[150,0,255,180],balance:[0,255,150,180]},m=new Map,N=(o,s)=>{const e=Math.floor(o/y),i=Math.floor(s/y);return`${e},${i}`},z=()=>{m.clear(),g.forEach(o=>{const s=N(o.position.x,o.position.y);m.has(s)||m.set(s,[]),m.get(s).push(o)})},B=o=>{const s=[],e=Math.floor(o.position.x/y),i=Math.floor(o.position.y/y);for(let r=-1;r<=1;r++)for(let c=-1;c<=1;c++){const a=`${e+r},${i+c}`,n=m.get(a);n&&s.push(...n)}return s},G=(o,s,e)=>({position:t.createVector(o,s),velocity:t.createVector(0,0),acceleration:t.createVector(0,0),color:V[e],size:e==="core"?4:e==="shield"?3:2,maxSpeed:e==="flow"?4:e==="core"?1.5:2.5,innerStrength:e==="core"?.95:e==="shield"?.9:.8,originalPosition:t.createVector(o,s),connectionRadius:e==="core"?80:e==="shield"?60:40,type:e,phase:t.random(t.TWO_PI),life:0,maxLife:e==="flow"?200:1/0,targetOpacity:e==="core"?1:e==="shield"?.9:.8,currentOpacity:0,gridX:0,gridY:0}),b=()=>{g=[];const o=t.width/2,s=t.height/2,e=Math.min(t.width,t.height)*.3;Object.entries(Y).forEach(([i,r])=>{for(let c=0;c<r;c++){const a=c/r*t.TWO_PI,n=i==="core"?e*.3:i==="shield"?e*.6:i==="flow"?t.random(e*.4,e*.8):i==="wisdom"?t.random(e*.5,e*.9):t.random(e*.7,e),d=o+t.cos(a)*n,h=s+t.sin(a)*n;g.push(G(d,h,i))}})},$=.001,x=.02;let w=0,M=new Map,T=0;const D=4,H=o=>{const s=t.width/2,e=t.height/2,i=Math.min(t.width,t.height)*.3;g.forEach(r=>{const c=(w+r.phase)%t.TWO_PI;let a=c,n=i*.5;switch(o){case 0:a=c,n=r.type==="core"?i*.3:r.type==="shield"?i*.6:r.type==="flow"?i*.8:r.type==="wisdom"?i*.9:i;break;case 1:a=c*2,n=i*(.3+c/t.TWO_PI*.7);break;case 2:a=c,n=i*(.5+Math.sin(c*3)*.3);break;case 3:a=Math.floor(c/(t.TWO_PI/6))*(t.TWO_PI/6)+c%(t.TWO_PI/6)*.5,n=i*(.4+Math.cos(c*4)*.3);break}const d=s+Math.cos(a)*n,h=e+Math.sin(a)*n;M.set(r,t.createVector(d,h))})},L=()=>{g.forEach(o=>{const s=M.get(o);if(s){const e=I.Vector.sub(s,o.position);if(e.mag()>1){e.normalize(),e.mult(o.maxSpeed);const r=I.Vector.sub(e,o.velocity);r.limit(.1),o.acceleration.add(r)}}})},q=(o,s)=>{const e=t.width/2,i=t.height/2,r=Math.min(t.width,t.height)*.3,c=t.mouseX,a=t.mouseY,n=Math.atan2(a-i,c-e),d=(w+s.phase)%t.TWO_PI;let h,l;switch(o){case 0:const O=r*(.3+(s.type==="core"?0:s.type==="shield"?.2:s.type==="flow"?.4:s.type==="wisdom"?.6:.8));h=c+Math.cos(d)*O,l=a+Math.sin(d)*O;break;case 1:const f=r*(.2+d/t.TWO_PI*.8),_=d*3+n;h=c+Math.cos(_)*f,l=a+Math.sin(_)*f;break;case 2:const W=r*(.4+Math.sin(d*4)*.3),E=d+n;h=c+Math.cos(E)*W,l=a+Math.sin(E)*W;break;case 3:const R=(s.type==="core"?0:s.type==="shield"?t.TWO_PI/5:s.type==="flow"?t.TWO_PI*2/5:s.type==="wisdom"?t.TWO_PI*3/5:t.TWO_PI*4/5)+d*.2,A=r*.6;h=c+Math.cos(R)*A,l=a+Math.sin(R)*A;break;case 4:const C=r*(.2+(1-k/60)*.8),v=d+n;h=c+Math.cos(v)*C,l=a+Math.sin(v)*C;break}return t.createVector(h,l)};t.setup=()=>{const o=document.getElementById("sketch-container");if(!o){console.error("Sketch container not found");return}t.createCanvas(o.clientWidth,o.clientHeight).parent("sketch-container"),t.background(0,0,0,.2),t.colorMode(t.RGB,255,255,255,255),b()},t.draw=()=>{S+=.01,w=(w+$)%t.TWO_PI,t.background(0,0,0,.2),u&&k++,!u&&w<.1&&(T=(T+1)%D),u?g.forEach(o=>{const s=q(P,o);M.set(o,s)}):H(T),z(),g.forEach(o=>{o.phase=(o.phase+.01)%t.TWO_PI;const s=u?x*2:x;if(L(),t.mouseX>0&&t.mouseY>0){const n=o.position.x-t.mouseX,d=o.position.y-t.mouseY,h=Math.sqrt(n*n+d*d);if(h<150){const l=(1-h/150)*(1-o.innerStrength);o.acceleration.add(n*l*.01,d*l*.01)}}const e=u?.05:.1,i=t.noise(o.position.x*.005,o.position.y*.005,S)*t.TWO_PI,r=t.createVector(t.cos(i),t.sin(i)).mult(e*(1-o.innerStrength));o.acceleration.add(r),o.velocity.add(o.acceleration),o.velocity.mult(.98),o.velocity.limit(o.maxSpeed),o.position.add(o.velocity),o.acceleration.mult(0),o.currentOpacity=t.lerp(o.currentOpacity,o.targetOpacity,s),t.noStroke();const c=o.currentOpacity*255;t.fill(o.color[0],o.color[1],o.color[2],c),(o.type==="core"||o.type==="shield")&&(t.drawingContext.shadowBlur=10,t.drawingContext.shadowColor=t.color(o.color[0],o.color[1],o.color[2],c*.5)),t.ellipse(o.position.x,o.position.y,o.size),t.drawingContext.shadowBlur=0,B(o).forEach(n=>{if(n!==o){const d=o.position.x-n.position.x,h=o.position.y-n.position.y,l=Math.sqrt(d*d+h*h);if(l<o.connectionRadius){const f=(1-l/o.connectionRadius)*100*o.currentOpacity;o.type==="core"&&n.type==="shield"||o.type==="shield"&&n.type==="core"?(t.stroke(o.color[0],o.color[1],o.color[2],f*.8),t.strokeWeight(2)):o.type==="flow"||n.type==="flow"?(t.stroke(o.color[0],o.color[1],o.color[2],f*.4),t.strokeWeight(1)):(t.stroke(o.color[0],o.color[1],o.color[2],f*.6),t.strokeWeight(1.5)),t.line(o.position.x,o.position.y,n.position.x,n.position.y)}}})})},t.windowResized=()=>{const o=document.getElementById("sketch-container");o&&(t.resizeCanvas(o.clientWidth,o.clientHeight),b())},t.mousePressed=()=>{u=!0,k=0,P=(P+1)%X},t.mouseReleased=()=>{u=!1}};new I(K);
//# sourceMappingURL=resilience-BMymzc7Q.js.map
